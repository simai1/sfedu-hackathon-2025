# Инструкция по сборке исполняемого файла

## Требования

1. Python 3.10 или выше
2. Установленные зависимости приложения:
   ```bash
   pip install PyQt6 pyqtgraph pyneurosdk2 pyem-st-artifacts pyspectrum-lib
   ```
3. PyInstaller (установится автоматически при запуске скрипта сборки)

## Сборка на Windows

### Способ 1: Использование batch-скрипта (рекомендуется)

1. Откройте командную строку (CMD) или PowerShell
2. Перейдите в папку с приложением:
   ```cmd
   cd BrainBit\neurosamples-main\Bit
   ```
3. Запустите скрипт сборки:
   ```cmd
   build.bat
   ```

### Способ 2: Ручная сборка через PyInstaller

1. Установите PyInstaller (если еще не установлен):
   ```cmd
   pip install pyinstaller
   ```

2. Запустите PyInstaller с spec-файлом:
   ```cmd
   pyinstaller build.spec
   ```

## Сборка на Linux/macOS

1. Откройте терминал
2. Перейдите в папку с приложением:
   ```bash
   cd BrainBit/neurosamples-main/Bit
   ```
3. Сделайте скрипт исполняемым:
   ```bash
   chmod +x build.sh
   ```
4. Запустите скрипт сборки:
   ```bash
   ./build.sh
   ```

## Результат сборки

После успешной сборки исполняемый файл будет находиться в папке:
- **Windows**: `dist\BitApp.exe`
- **Linux/macOS**: `dist/BitApp`

## Дополнительные опции

### Изменение имени исполняемого файла

Откройте файл `build.spec` и измените параметр `name`:
```python
name='ВашеИмяПриложения',
```

### Добавление иконки

1. Подготовьте файл иконки (`.ico` для Windows, `.icns` для macOS)
2. В файле `build.spec` укажите путь к иконке:
```python
icon='path/to/your/icon.ico',
```

### Показать консольное окно (для отладки)

В файле `build.spec` измените:
```python
console=True,  # Показать консоль
```

## Устранение проблем

### Ошибка "Could not find module 'neurosdk2-x64.dll'"

Эта ошибка возникает, когда PyInstaller не включает DLL файлы из библиотеки `neurosdk`. 

**Решение:**
1. Убедитесь, что `pyneurosdk2` установлен:
   ```bash
   pip install pyneurosdk2
   ```
2. Файл `build.spec` автоматически находит и включает DLL файлы из `neurosdk`
3. Пересоберите приложение:
   ```bash
   build.bat
   ```

Если проблема сохраняется:
- Проверьте, что `neurosdk` установлен в виртуальном окружении или в системных пакетах Python
- Убедитесь, что в папке `neurosdk/libs/win/` есть файл `neurosdk2-x64.dll`

### Ошибка "ModuleNotFoundError"

Если при запуске исполняемого файла возникает ошибка о недостающих модулях:

1. Добавьте недостающий модуль в `hiddenimports` в файле `build.spec`
2. Пересоберите приложение

### Большой размер исполняемого файла

Это нормально для PyQt6 приложений. Размер может быть 100-300 МБ в зависимости от зависимостей.

### Приложение не запускается

1. Попробуйте запустить с консолью (`console=True` в `build.spec`) для просмотра ошибок
2. Проверьте, что все зависимости установлены:
   ```bash
   pip install PyQt6 pyqtgraph pyneurosdk2 pyem-st-artifacts pyspectrum-lib
   ```
3. Убедитесь, что все UI файлы находятся в папке `ui/`
4. Проверьте логи сборки - там должны быть сообщения о найденных DLL файлах

## Распространение приложения

Для распространения приложения достаточно скопировать файл `BitApp.exe` (или `BitApp` на Linux/macOS) на другой компьютер. 

**Важно**: На целевом компьютере должны быть установлены необходимые системные библиотеки:
- **Windows**: Visual C++ Redistributable (обычно уже установлен)
- **Linux**: Зависимости Qt6 (устанавливаются через пакетный менеджер)
- **macOS**: Обычно работает без дополнительных установок

